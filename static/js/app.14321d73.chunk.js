(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{154:function(e,t,n){"use strict";n.d(t,"a",(function(){return X}));var a=n(1),r=n.n(a),i=n(4),s=n.n(i),o=n(30),c=n.n(o),l=n(31),u=n.n(l),j=n(37),h=n.n(j),d=n(38),g=n.n(d),b=n(21),f=n.n(b),p=n(11),m=n.n(p),x=n(0),O=n.n(x),v=n(237),y=n(243),w=n(238),_=n(141),P=n(35),S=n(74),C=n(10),k=n(62),F=n(111),E=n(93),z=n(195),D=n(239),A=n(240),B=n(194),I=n(131),L=n(83),R=n(247),T=n(82),W=n(241),J=n(142),N=n(110),M=n(246),V=n(193),Z=n(132),U=n(242),Y=n(245),q=n(5);function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function K(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=f()(e);if(t){var r=f()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return g()(this,n)}}var Q=Object(v.a)({config:{useSystemColorMode:!0}});function X(){return Object(q.jsxs)(y.a,{theme:Q,children:[Object(q.jsx)(ne,{}),Object(q.jsx)(w.a,{flex:1,_dark:{bgColor:"#222"},children:Object(q.jsx)(ee,{})}),Object(q.jsx)(ae,{})]})}!function(e){h()(n,e);var t=K(n);function n(e){var a;return c()(this,n),(a=t.call(this,e)).state={value:0},a}u()(n,[{key:"render",value:function(){var e=this;return this.props.loading&&fetch(e.props.data).then((function(e){return e.blob()})).then((function(t){t.text().then((function(t){(function(e,t){var n=[],a=e.split("\n"),r=0;for(r=0;r<a.length;r++)try{r%1e3==0&&t({value:r/a.length*100,toFixed:function(e){throw new Error("Function not implemented.")},toExponential:function(e){throw new Error("Function not implemented.")},toPrecision:function(e){throw new Error("Function not implemented.")}});var i=JSON.parse(a[r]);"channel_deleted"===i.event_type&&(n.indexOf(i.ip)>-1||n.push(i.ip))}catch(s){console.log("error parsing line "+s)}return new Promise((function(e,t){e(n)}))})(t,e.setState).then((function(e){}))}))})),Object(q.jsx)(_.a,{color:"#f8bb86",value:this.state.value})}}])}(O.a.Component);var $=function(e){var t=e.setValue,n=e.json,a=(e.loading,e.setParams),r=e.setParsed;return n?n&&n.length<=1?Object(q.jsx)(P.a,{children:"Waiting for data..."}):(O.a.useEffect((function(){for(var e=[],i=[],s=[],o=[],c=0;c<n.length;c++)try{t(c/n.length*100);var l=JSON.parse(n[c]);"api"==l.event_source&&"send_message"==l.event_type&&(e.indexOf(l.ip)>-1||(o.push(l),l.ip?e.push(l.ip):e.indexOf("")>-1||e.push(""),i.indexOf(l.os)>-1||(l.os?i.push(l.os):i.indexOf("")>-1||i.push("")),s.indexOf(l.time_zone)>-1||(l.time_zone?s.push(l.time_zone):s.indexOf("")>-1||s.push(""))))}catch(u){console.log("error parsing line "+u)}s.push("All"),i.push("All"),e.push("All"),t(100),a({ips:e,os:i,timezones:s}),r(o)}),[]),Object(q.jsx)(P.a,{children:"IPS"})):Object(q.jsx)(P.a,{children:"Waiting for data..."})};function ee(){var e=O.a.useState([{}]),t=s()(e,2),n=t[0],a=t[1],i=O.a.useState(!1),o=s()(i,2),c=o[0],l=o[1],u=O.a.useState({}),j=s()(u,2),h=j[0],d=j[1],g=O.a.useState(!1),b=s()(g,2),f=b[0],p=(b[1],O.a.useState(0)),m=s()(p,2),x=m[0],v=m[1],y=O.a.useState(null),w=s()(y,2),I=w[0],L=w[1],R=O.a.useState(""),T=s()(R,2),W=(T[0],T[1]),J=O.a.useState("Parse"),N=s()(J,2),M=N[0],V=N[1],Z=O.a.useState({}),U=s()(Z,2),Y=U[0],G=U[1],K=O.a.useState(""),Q=s()(K,2),X=Q[0],ee=Q[1],ne=O.a.useState([]),ae=s()(ne,2),re=ae[0],ie=ae[1],se=O.a.useState(!0),oe=s()(se,2),ce=oe[0],le=oe[1],ue=O.a.useState(""),je=s()(ue,2),he=je[0],de=je[1];return O.a.useEffect((function(){"Loading"===M&&(a(I),V("Parse"),l(!1))}),[M]),O.a.useEffect((function(){var e=[];re.forEach((function(t){var n=function(e,t){for(var n={ips:"ip",os:"os",timezones:"time_zone",length:"length",num_urls:"num_urls",word_count:"word_count"},a=[],r=!0,i=0;i<Object.keys(e).length;i++)if("All"!=e[Object.keys(e)[i]])try{for(var s=0;s<Object.keys(t).length;s++)Object.keys(t)[s]===n[Object.keys(e)[i]]&&t[Object.keys(t)[s]]!=e[Object.keys(e)[i]]&&(r=!1)}catch(o){console.log(o)}return r&&a.push(t),a}(Y,t);n&&n.length>0&&e.push(n)})),ee(JSON.stringify(e,null,2))}),[Y]),Object(q.jsxs)(S.a,{marginTop:20,marginBottom:20,w:{base:"100%",sm:"80%",md:"70%",lg:"65%",xl:"50%","2xl":"45%"},borderRadius:10,flexDir:"column",alignItems:"center",_dark:{bgColor:"#04293A"},_light:{bgColor:"#DFF6FF"},children:[Object(q.jsx)(C.a,{marginTop:5,marginBottom:2,children:Object(q.jsx)(te,{setLoading:l,setValue:v,setJson:a,setData:L,setName:W})}),Object(q.jsx)(C.a,{w:"90%",minW:{base:200,sm:250,md:300,lg:350,xl:400,"2xl":450}}),Object(q.jsx)(k.a,{visible:null!=I,initial:{opacity:0,scale:0},animate:{opacity:1,scale:1,transition:{duration:250}},children:Object(q.jsx)(S.a,{space:2,flex:1,flexDirection:"row",justifyContent:"center",alignContent:"center",w:"90%",minW:{base:200,sm:250,md:300,lg:350,xl:400,"2xl":450},children:Object(q.jsx)(F.a,{w:"50%",isLoadingText:"Parsing",onPress:function(){v(0),V("Loading")},isLoading:"Loading"==M,children:Object(q.jsx)(P.a,{children:M})})})}),Object(q.jsx)(k.a,{visible:c,initial:{opacity:0,scale:0},animate:{opacity:1,scale:1,transition:{duration:250}},children:Object(q.jsx)(_.a,{marginBottom:5,value:x})}),Object(q.jsxs)(k.a,{visible:c,initial:{opacity:0,scale:0},animate:{opacity:1,scale:1,transition:{duration:250}},children:[Object(q.jsx)($,{setParsed:ie,setParams:d,loading:c,setValue:v,json:n}),Object(q.jsx)(C.a,{w:"90%",minW:{base:200,sm:250,md:300,lg:350,xl:400,"2xl":450},children:Object(q.jsx)(_.a,{marginBottom:5,value:x})})]}),!ce&&Object(q.jsxs)(k.a,{visible:Object.keys(n).length>1,initial:{opacity:0,scale:0},animate:{opacity:1,scale:1,transition:{duration:250}},children:[Object(q.jsx)(F.a,{marginLeft:"auto",marginRight:"auto",bgColor:"#76BA99",w:"50%",marginTop:4,marginBottom:4,onPress:function(){return le(!0)},children:"Show Text Box"}),Object(q.jsx)(S.a,{w:"100%",justifyContent:"center",flexWrap:"wrap",margin:"4%",direction:"row",mb:"2.5",mt:"1.5",space:3,children:Object.keys(h).map((function(e,t){try{return Object(q.jsx)(C.a,{children:Object(q.jsxs)(E.a,{isInvalid:f,children:[Object(q.jsxs)(E.a.Label,{children:[e," ("+h[""+e].length+")"]}),Object(q.jsx)(z.a,{selectedValue:Y[e],placeholder:"Choose "+e,_selectedItem:{bg:"teal.600",endIcon:Object(q.jsx)(D.a,{size:"5"})},mt:1,onValueChange:function(t){console.log(Y),Y.length?G(r()({},e,t)):G(H(H({},Y),{},r()({},e,t)))},children:h[""+e].map((function(e){return Object(q.jsx)(z.a.Item,{label:e||"null",value:e,children:e})}))},t),Object(q.jsx)(E.a.ErrorMessage,{leftIcon:Object(q.jsx)(A.a,{size:"xs"}),children:"No selection"})]},t)},t)}catch(n){return console.log(n),"none"}}))})]}),ce&&n.length>1&&Object(q.jsxs)(k.a,{visible:ce&&n.length>1,initial:{opacity:0,scale:0},animate:{opacity:1,scale:1,transition:{duration:250}},children:[Object(q.jsx)(F.a,{marginLeft:"auto",marginRight:"auto",bgColor:"#76BA99",w:"50%",marginTop:4,marginBottom:4,onPress:function(){return le(!1)},children:"Show Filters"}),Object(q.jsxs)(C.a,{flex:1,alignItems:"center",children:[Object(q.jsx)(P.a,{children:"Please input the spam message"}),Object(q.jsx)(B.a,{alignItems:"flex-start",flexDirection:"column",h:{base:200,sm:300,md:350,lg:400,xl:450,"2xl":500},margin:5,onChangeText:function(e){de(e.trim())},value:he,marginBottom:10,w:{base:200,sm:350,md:500,lg:550,xl:650,"2xl":750}}),Object(q.jsx)(F.a,{onPress:function(){var e=/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)/g;he.split("\n").join(" ");console.log(he),console.log({length:he.length,word_count:he.split("\n").join(" ").split(" ").length,num_urls:he.match(e)?he.match(e).length:0}),G({length:he.length,word_count:he.split("\n").join(" ").split(" ").length,num_urls:he.match(e)?he.match(e).length:0})},children:"Find Matches"})]})]}),Object(q.jsx)(k.a,{visible:X.length>1&&n.length>1,initial:{opacity:0,scale:0},animate:{opacity:1,scale:1,transition:{duration:250}},children:Object(q.jsx)(C.a,{marginTop:10,flex:1,alignItems:"center",children:Object(q.jsx)(B.a,{alignItems:"flex-start",flexDirection:"column",value:X,marginBottom:10,h:{base:200,sm:300,md:400,lg:450,xl:500,"2xl":550},w:{base:200,sm:350,md:500,lg:550,xl:650,"2xl":750}})})})]})}var te=function(e){var t=e.setLoading,n=e.setValue,a=e.setData,r=e.setName,i=(e.setJson,O.a.useRef(null)),o=O.a.useState(!1),c=s()(o,2),l=(c[0],c[1],O.a.useState(!1)),u=s()(l,2),j=u[0],h=u[1],d=0;O.a.useEffect((function(){var e=i.current;e.addEventListener("dragenter",g),e.addEventListener("dragleave",b),e.addEventListener("dragover",f),e.addEventListener("drop",p)}),[]);var g=function(e){e.preventDefault(),e.stopPropagation(),h(!0),d++},b=function(e){e.preventDefault(),e.stopPropagation(),--d>0||h(!1)},f=function(e){e.preventDefault(),e.stopPropagation()},p=function(e){t(!0),h(!1),e.preventDefault(),e.stopPropagation();var r=e.dataTransfer.files[0],i=new FileReader;i.onprogress=function(e){e.lengthComputable&&n(e.loaded/e.total*100)},i.onload=function(e){a(e.currentTarget.result.split("\n")),t(!1)},i.readAsText(r)};return Object(q.jsx)(C.a,{ref:i,borderStyle:"dashed",borderWidth:3,borderColor:"#155491",borderRadius:10,w:{base:300,sm:300,md:400,lg:430,xl:450,"2xl":470},h:{base:110},children:Object(q.jsxs)(I.a,{space:3,flex:1,justifyContent:"center",alignContent:"center",children:[!j&&Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(P.a,{fontWeight:"bold",textAlign:"center",children:"Drag and Drop or Select Your JSON file"}),Object(q.jsx)(F.a,{onPress:function(){var e,i,s,o;return m.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,m.a.awrap(V.a({type:"application/json"}));case 2:e=c.sent,i=e.file,s=e.name,i&&(t(!0),(o=new FileReader).onprogress=function(e){e.lengthComputable&&n(e.loaded/e.total*100)},o.onload=function(e){a(e.currentTarget.result.split("\n"))},o.readAsText(i)),r(s);case 7:case"end":return c.stop()}}),null,null,null,Promise)},marginLeft:"auto",marginRight:"auto",w:"50%",leftIcon:Object(q.jsx)(L.a,{as:Z.a,name:"upload",size:{base:8,sm:8,md:6,lg:4,xl:8}}),children:Object(q.jsx)(P.a,{fontSize:{base:20},children:"Upload"})})]}),j&&Object(q.jsx)(P.a,{fontWeight:"bold",textAlign:"center",children:"Drop to Upload"})]})})};function ne(){return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(R.a,{bg:"#3700B3"}),Object(q.jsx)(C.a,{safeAreaTop:!0,bg:"#6200ee"}),Object(q.jsxs)(T.a,{_light:{bg:"#47B5FF"},_dark:{bg:"#1a2c51"},px:"1",py:"3",justifyContent:"space-between",alignItems:"center",w:"100%",children:[Object(q.jsx)(T.a,{alignItems:"center",children:Object(q.jsx)(W.a,{icon:Object(q.jsx)(L.a,{size:"xl",as:Z.a,name:"menu",_light:{color:"#3F4E4F"},_dark:{color:"white"}})})}),Object(q.jsx)(T.a,{marginRight:5,children:Object(q.jsx)(re,{})})]})]})}function ae(){return Object(q.jsx)(q.Fragment,{children:Object(q.jsxs)(S.a,{space:2,flexDir:"column",alignItems:"center",justifyContent:"center",_light:{bg:"#47B5FF"},_dark:{bg:"#1a2c51"},w:"100%",h:"10%",children:[Object(q.jsxs)(P.a,{fontSize:"sm",textAlign:"center",children:["Made with \u2764\ufe0f by ",Object(q.jsx)(J.a,{isExternal:!0,href:"https://github.com/oct4pie",fontWeight:"bold",children:"oct4pie"})]}),Object(q.jsxs)(T.a,{space:3,children:[Object(q.jsx)(J.a,{isExternal:!0,href:"https://github.com/oct4pie/discord-log-parser",fontWeight:"bold",children:Object(q.jsx)(L.a,{_light:{color:"#2C3639"},as:U.a,name:"github",size:10})}),Object(q.jsx)(J.a,{isExternal:!0,href:"https://discord.gg/R6YdPurrqy",fontWeight:"bold",children:Object(q.jsx)(L.a,{_light:{color:"#2C3639"},as:Y.a,name:"discord",size:10})})]})]})})}function re(){var e=Object(N.b)(),t=e.colorMode,n=e.toggleColorMode;return Object(q.jsxs)(T.a,{space:2,alignItems:"center",children:[Object(q.jsx)(L.a,{_light:{color:"black"},as:Z.a,name:"moon",size:5}),Object(q.jsx)(M.a,{isChecked:"light"===t,onToggle:n,"aria-label":"light"===t?"switch to dark mode":"switch to light mode"}),Object(q.jsx)(L.a,{_light:{color:"black"},as:Z.a,name:"light-up",size:5})]})}},206:function(e,t,n){e.exports=n(235)}},[[206,1,2]]]);
//# sourceMappingURL=app.14321d73.chunk.js.map